(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"4dd0":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"navBar"},[i("van-sticky",{attrs:{container:e.navBar}},[i("van-nav-bar",{attrs:{fixed:"",placeholder:"","left-arrow":""},on:{"click-left":e.onClickLeft},scopedSlots:e._u([{key:"title",fn:function(){return[i("span",{domProps:{textContent:e._s(e.movieVO.vodName+"-"+e.movieDetailVO.playName)}})]},proxy:!0},{key:"right",fn:function(){return[i("van-icon",{attrs:{name:e.movieVO.isCollected?"star":"star-o",size:"18"},on:{click:e.collectMovie}})]},proxy:!0}])}),i("div",{staticClass:"player"},[i("d-player",{directives:[{name:"show",rawName:"v-show",value:e.isM3u8,expression:"isM3u8"}],ref:"player",staticStyle:{height:"180px"},attrs:{id:"player",options:e.dplayerOptions}}),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.isM3u8,expression:"!isM3u8"}],attrs:{src:e.playUrlIframe,width:"100%",height:"180px",allowfullscreen:"allowfullscreen",mozallowfullscreen:"mozallowfullscreen",msallowfullscreen:"msallowfullscreen",oallowfullscreen:"oallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",frameSpacing:"0",marginHeight:"0",frameBorder:"0",scrolling:"no",vspale:"0",noResize:""}})],1)],1),i("div",[i("van-tabs",{attrs:{color:"#4fc08d",swipeable:"","title-active-color":"#4fc08d"}},[i("van-tab",{attrs:{title:"简介"}},[i("video-resc",{attrs:{movie:e.movieVO}})],1),i("van-tab",{attrs:{title:"选集"}},[i("van-collapse",{model:{value:e.activeCollapseNames,callback:function(t){e.activeCollapseNames=t},expression:"activeCollapseNames"}},[i("div",e._l(e.movieVOList[0].playVOList,(function(t,a){return i("van-collapse-item",{key:a,attrs:{name:t.vodPlayFrom},scopedSlots:e._u([{key:"title",fn:function(){return[i("span",{domProps:{textContent:e._s(t.vodPlayFrom)}})]},proxy:!0}],null,!0)},[i("van-grid",{attrs:{"column-num":4}},e._l(t.playDetailVOList,(function(t,a){return i("van-grid-item",{key:a,attrs:{text:t.playName},on:{click:function(i){return e.switchMovie(t)}}})})),1)],1)})),1)])],1)],1)],1)],1)},n=[],o=(i("c975"),i("96cf"),i("1da1")),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main"},[i("van-row",{attrs:{gutter:"2"}},[i("van-col",{attrs:{span:"8"}},[i("van-image",{attrs:{width:"120",height:"120",src:e.movie.vodPic}})],1),i("van-col",{attrs:{span:"16"}},[i("b",{domProps:{textContent:e._s(e.movie.vodName)}}),i("div",[e._v("别名："+e._s(e.movie.vodSub))]),i("div",[e._v("导演："+e._s(e.movie.vodDirector))]),i("div",[e._v("类型："+e._s(e.movie.typeName))]),i("div",[e._v("年份："+e._s(e.movie.vodYear))]),i("div",[e._v("地区："+e._s(e.movie.vodArea))]),i("div",[e._v("语言："+e._s(e.movie.vodLang))]),i("div",[e._v("演员："+e._s(e.movie.vodActor))])])],1),i("van-row",[i("van-col",[i("p",{staticStyle:{padding:"10px"},domProps:{textContent:e._s(e.movie.vodContent)}})])],1)],1)},l=[],s={name:"VideoDesc",props:["movie"]},c=s,u=(i("b356"),i("2877")),v=Object(u["a"])(c,r,l,!1,null,"598d7d5a",null),d=v.exports,m=i("ba56"),f=i.n(m),p=i("71ee"),h=i.n(p),O=(i("4da9"),{name:"Play",components:{"video-resc":d,"d-player":h.a},data:function(){return{activeCollapseNames:[0],navBar:null,iframePlayUrl:"",isNeedIframe:!1}},computed:{isM3u8:function(){return-1<this.movieDetailVO.playUrl.indexOf("m3u8")||-1<this.movieDetailVO.playUrl.indexOf("mp4")},playUrlIframe:function(){return-1<this.movieDetailVO.playUrl.indexOf("m3u8")||-1<this.movieDetailVO.playUrl.indexOf("mp4")?"":this.movieDetailVO.playUrl},movieDetailVO:function(){var e=this.$store.state.rightNowMovieDetailVO;return e||(e=this.$cacheUtil.LOCAL_STORAGE.get(this.$cacheConstant.MOVIE.RIGHT_NOW_MOVIE_DETAIL)),e},movieVO:function(){var e=this.$store.state.rightNowMovieVO;return e||(e=this.$cacheUtil.LOCAL_STORAGE.get(this.$cacheConstant.MOVIE.RIGHT_NOW_MOVIE)),e},movieVOList:function(){var e=this.$store.state.movieVOList;return e&&0!==e.length||(e=this.$cacheUtil.LOCAL_STORAGE.get(this.$cacheConstant.MOVIE.MOVIE_LIST)),e},live:function(){var e=!1,t=this.movieDetailVO.playUrl;return t.indexOf(".m3u8")>-1&&(e=!0),e},type:function(){var e="normal",t=this.movieDetailVO.playUrl;return t.indexOf(".m3u8")>-1&&(e="hls"),t.indexOf("magnet:")>-1&&(e="webtorrent"),t.indexOf(".flv")>-1&&(e="flv"),t.indexOf(".mpd")>-1&&(e="dash"),e},dplayerOptions:function(){var e="";return(-1<this.movieDetailVO.playUrl.indexOf("m3u8")||-1<this.movieDetailVO.playUrl.indexOf("mp4"))&&(e=this.$store.state.rightNowMovieDetailVO.playUrl),{container:document.getElementById("dplayer"),autoplay:!0,theme:"#4FC08D",video:{url:e,type:"customHls",customType:{customHls:function(e){var t=new f.a;t.loadSource(e.src),t.attachMedia(e)}}}}}},created:function(){this.movieDetailVO?this.activeCollapseNames=[this.movieDetailVO.vodPlayFrom]:window.location="/"},mounted:function(){},methods:{onClickLeft:function(){this.$router.go(-1)},play:function(){console.log("play callback")},switchMovie:function(e){this.$store.commit("updateRightNowMovieDetailVO",e);var t=this.$refs.player,i="";this.isM3u8&&(i=e.playUrl),t.dp.switchVideo({url:i,pic:"",thumbnails:""}),t.dp.play()},collectMovie:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.movieVO,t.next=3,e.$dexieUtil.getInstance().play_collection.where("rescPlatform").equals(i.rescPlatform).and((function(e){return e.vodId===i.vodId})).count();case 3:if(a=t.sent,0===a){t.next=10;break}return t.next=7,e.$dexieUtil.getInstance().play_collection.where("rescPlatform").equals(i.rescPlatform).and((function(e){return e.vodId===i.vodId})).delete();case 7:return e.movieVO.isCollected=!1,e.$toast.success("取消收藏成功！"),t.abrupt("return");case 10:return i.createTime=e.$dayjs().format("YYYY-MM-DD HH:mm:ss"),i.isCollected=!0,t.next=14,e.$dexieUtil.getInstance().play_collection.add(i);case 14:e.movieVO.isCollected=!0,e.$toast.success("收藏成功！");case 16:case"end":return t.stop()}}),t)})))()}}}),y=O,w=(i("964c"),Object(u["a"])(y,a,n,!1,null,"6864dc08",null));t["default"]=w.exports},"816f":function(e,t,i){},"964c":function(e,t,i){"use strict";i("98c6")},"98c6":function(e,t,i){},a640:function(e,t,i){"use strict";var a=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&a((function(){i.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,i){var a=i("83ab"),n=i("d039"),o=i("5135"),r=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(o(l,e))return l[e];t||(t={});var i=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:s,v=o(t,1)?t[1]:void 0;return l[e]=!!i&&!n((function(){if(c&&!a)return!0;var e={length:-1};c?r(e,1,{enumerable:!0,get:s}):e[1]=1,i.call(e,u,v)}))}},b356:function(e,t,i){"use strict";i("816f")},c975:function(e,t,i){"use strict";var a=i("23e7"),n=i("4d64").indexOf,o=i("a640"),r=i("ae40"),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),u=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:s||!c||!u},{indexOf:function(e){return s?l.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);